machine:
  node:
    version: 7.7.1
  services:
    - docker

deployment:
  production:
    branch: master
    commands:
      - ./docker/build.sh latest
      - docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
      - ./docker/push.sh latest
      - ./docker/update.sh latest
  development:
    branch: develop
    commands:
      - ./docker/build.sh dev
      - docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
      - ./docker/push.sh dev
      - ./docker/update.sh dev
  cnu:
    branch: cnu
    commands:
      - ./docker/build.sh cnu
      - docker login -e $DOCKER_EMAIL -u $DOCKER_USER -p $DOCKER_PASS
      - ./docker/push.sh cnu
      - ./docker/update.sh cnu
